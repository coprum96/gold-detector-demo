# –õ–ò–°–¢–ò–ù–ì –ü–†–û–ì–†–ê–ú–ú–´ –î–õ–Ø –≠–í–ú

## –†–ï–ì–ò–°–¢–†–ê–¶–ò–û–ù–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:** –ó–æ–ª–æ—Ç–æ–π –î–µ—Ç–µ–∫—Ç–æ—Ä  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç–µ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞  
**–¢–∏–ø –ø—Ä–æ–≥—Ä–∞–º–º—ã:** –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –∏–≥—Ä–∞  
**–í–∏–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã:** –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (SPA - Single Page Application)

**–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å:** –ú–µ–¥—è–Ω–∏–∫ –û–ª—å–≥–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025 –≥–æ–¥  
**–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:** TypeScript, JavaScript (ES6+)  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** React 18, Vite 5, Tailwind CSS, Zustand  
**–û–±—ä—ë–º –ø—Ä–æ–≥—Ä–∞–º–º—ã:** ~3500 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## –ê–ù–ù–û–¢–ê–¶–ò–Ø

–ü—Ä–æ–≥—Ä–∞–º–º–∞ "–ó–æ–ª–æ—Ç–æ–π –î–µ—Ç–µ–∫—Ç–æ—Ä" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞–≤—ã–∫–∞–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ –∏ –∑–∞—â–∏—Ç—ã –ª–∏—á–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ –∏–≥—Ä–æ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏
2. **–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∑–Ω–∞–Ω–∏–π —Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
3. **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏** –∑–∞—â–∏—Ç—ã –æ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞** –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
5. **–°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
6. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –º–∏–Ω–∏-–∏–≥—Ä—ã** –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –Ω–∞–≤—ã–∫–æ–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ SVG-–∏–∫–æ–Ω–∫–∏ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–∞
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–ª–∞–≤–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (Zustand)
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (React)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ (Vite)

---

## –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ì–†–ê–ú–ú–´

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
/src
‚îú‚îÄ‚îÄ components/         # React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ data/              # –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
‚îú‚îÄ‚îÄ store/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
‚îú‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ App.tsx            # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

---

## –§–†–ê–ì–ú–ï–ù–¢–´ –ò–°–•–û–î–ù–û–ì–û –ö–û–î–ê

### 1. –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (App.tsx)

```typescript
import { useEffect } from 'react';
import { useGameStore } from './store/gameStore';
import { StartScreen } from './components/StartScreen';
import { ChapterMap } from './components/ChapterMap';
import { DialogueScene } from './components/DialogueScene';
import { QuizScreen } from './components/QuizScreen';
import { PostTest } from './components/PostTest';
import { ScenarioTest } from './components/ScenarioTest';
import { EndingScreen } from './components/EndingScreen';
import { MaterialsPanel } from './components/MaterialsPanel';
import { StatsBar } from './components/StatsBar';
import './index.css';

function App() {
  const { phase, incrementVictimCount } = useGameStore();
  
  // –ì–ª–æ–±–∞–ª—å–Ω—ã–π —Å—á–µ—Ç—á–∏–∫ –∂–µ—Ä—Ç–≤ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
  useEffect(() => {
    const interval = setInterval(() => {
      incrementVictimCount();
    }, 2500); // +1 –∫–∞–∂–¥—ã–µ 2.5 —Å–µ–∫—É–Ω–¥—ã
    
    return () => clearInterval(interval);
  }, [incrementVictimCount]);
  
  return (
    <div className="min-h-screen bg-gradient-to-br from-primary via-secondary to-accent">
      {/* –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */}
      {phase !== 'start' && phase !== 'ending' && <StatsBar />}
      
      {/* –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å */}
      {phase !== 'start' && <MaterialsPanel />}
      
      {/* –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —ç–∫—Ä–∞–Ω–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∞–∑—ã –∏–≥—Ä—ã */}
      {phase === 'start' && <StartScreen />}
      {phase === 'chapterMap' && <ChapterMap />}
      {phase === 'dialogue' && <DialogueScene />}
      {phase === 'quiz' && <QuizScreen />}
      {phase === 'scenarioTest' && <ScenarioTest />}
      {phase === 'posttest' && <PostTest />}
      {phase === 'ending' && <EndingScreen />}
    </div>
  );
}

export default App;
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (store/gameStore.ts)

```typescript
import { create } from 'zustand';

interface GameState {
  // –ò–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  phase: 'start' | 'chapterMap' | 'dialogue' | 'quiz' | 
         'scenarioTest' | 'posttest' | 'ending';
  currentLevel: number;
  currentDialogue: number;
  completedLevels: number[];
  
  // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
  coins: number;
  wisdom: number;
  achievements: string[];
  postTestScore: number;
  citizensCount: number;
  victimCount: number;
  
  // –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –ø–∞–Ω–µ–ª—å
  isMaterialsPanelOpen: boolean;
  
  // –î–µ–π—Å—Ç–≤–∏—è
  setPhase: (phase: GameState['phase']) => void;
  nextLevel: () => void;
  completeLevel: (levelId: number) => void;
  addCoins: (amount: number) => void;
  addWisdom: (amount: number) => void;
  addAchievement: (achievement: string) => void;
  setPostTestScore: (score: number) => void;
  incrementCitizensCount: () => void;
  incrementVictimCount: () => void;
  toggleMaterialsPanel: () => void;
  resetGame: () => void;
}

export const useGameStore = create<GameState>((set) => ({
  // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  phase: 'start',
  currentLevel: 0,
  currentDialogue: 0,
  completedLevels: [],
  coins: 5,
  wisdom: 0,
  achievements: [],
  postTestScore: 0,
  citizensCount: 0,
  victimCount: 13495302,
  isMaterialsPanelOpen: false,
  
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏–π
  setPhase: (phase) => set({ phase }),
  
  nextLevel: () => set((state) => ({
    currentLevel: state.currentLevel + 1,
    currentDialogue: 0,
    phase: 'chapterMap'
  })),
  
  completeLevel: (levelId) => set((state) => ({
    completedLevels: [...new Set([...state.completedLevels, levelId])]
  })),
  
  addCoins: (amount) => set((state) => ({
    coins: Math.max(0, state.coins + amount)
  })),
  
  addWisdom: (amount) => set((state) => ({
    wisdom: Math.min(100, Math.max(0, state.wisdom + amount))
  })),
  
  addAchievement: (achievement) => set((state) => ({
    achievements: [...state.achievements, achievement]
  })),
  
  setPostTestScore: (score) => set({ postTestScore: score }),
  
  incrementCitizensCount: () => set((state) => ({
    citizensCount: state.citizensCount + 1
  })),
  
  incrementVictimCount: () => set((state) => ({
    victimCount: state.victimCount + 1
  })),
  
  toggleMaterialsPanel: () => set((state) => ({
    isMaterialsPanelOpen: !state.isMaterialsPanelOpen
  })),
  
  resetGame: () => set({
    phase: 'start',
    currentLevel: 0,
    currentDialogue: 0,
    completedLevels: [],
    coins: 5,
    wisdom: 0,
    achievements: [],
    postTestScore: 0
  })
}));
```

### 3. –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω (components/StartScreen.tsx)

```typescript
import { useGameStore } from '../store/gameStore';
import { FaSearch, FaExclamationTriangle, FaPlay } from 'react-icons/fa';

export function StartScreen() {
  const { setPhase, incrementCitizensCount, victimCount } = useGameStore();
  
  const handleStart = () => {
    incrementCitizensCount();
    setPhase('chapterMap');
  };
  
  return (
    <div className="min-h-screen flex items-center justify-center px-4 py-8">
      <div className="container max-w-5xl mx-auto text-center">
        {/* –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */}
        <div className="mb-6">
          <img 
            src="/img/character_buratino_happy.png" 
            alt="Buratino" 
            className="w-32 h-auto mx-auto rounded-2xl shadow-2xl animate-float"
          />
        </div>
        
        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–∫–æ–Ω–∫–æ–π */}
        <h1 className="text-5xl font-bold mb-4 animate-float 
                       flex items-center justify-center gap-3">
          <FaSearch className="text-yellow-400" />
          –ó–æ–ª–æ—Ç–æ–π –î–µ—Ç–µ–∫—Ç–æ—Ä
        </h1>
        
        {/* –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ */}
        <p className="text-xl mb-10 opacity-90">
          –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
        </p>
        
        {/* –°—á–µ—Ç—á–∏–∫ –∂–µ—Ä—Ç–≤ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ */}
        <div className="mb-8 p-6 bg-danger/20 backdrop-blur-lg 
                        rounded-2xl border-2 border-danger/50 
                        animate-pulse max-w-3xl mx-auto">
          <div className="text-xl font-bold mb-3 
                          flex items-center justify-center gap-2">
            <FaExclamationTriangle className="text-danger animate-pulse" />
            –ñ–ï–†–¢–í –§–ò–ù–ê–ù–°–û–í–û–ì–û –ú–û–®–ï–ù–ù–ò–ß–ï–°–¢–í–ê –í –†–§:
          </div>
          <div className="text-5xl font-bold text-danger">
            {victimCount.toLocaleString('ru-RU')}
          </div>
        </div>
        
        {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
        <p className="text-base mb-8 opacity-90 max-w-2xl mx-auto">
          –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—é! –ù–∞—É—á–∏—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å 
          —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ –∏ –∑–∞—â–∏—â–∞—Ç—å —Å–≤–æ–∏ –¥–µ–Ω—å–≥–∏.
        </p>
        
        {/* –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞ */}
        <button 
          className="btn btn-primary text-lg px-8 py-4 
                     flex items-center gap-3 mx-auto"
          onClick={handleStart}
        >
          <FaPlay />
          –ù–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ
        </button>
      </div>
    </div>
  );
}
```

### 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (components/QuizScreen.tsx)

```typescript
import { useState, useEffect } from 'react';
import { useGameStore } from '../store/gameStore';
import { levels } from '../data/gameData';
import { FaCheckCircle, FaTimesCircle, FaBook } from 'react-icons/fa';

export function QuizScreen() {
  const { currentLevel, addWisdom, completeLevel } = useGameStore();
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [score, setScore] = useState(0);
  const [selectedAnswer, setSelectedAnswer] = useState<number | null>(null);
  const [showExplanation, setShowExplanation] = useState(false);
  
  const level = levels[currentLevel];
  const questions = level?.quiz || [];
  const question = questions[currentQuestion];
  
  // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ –≤–æ–ø—Ä–æ—Å–∞
  useEffect(() => {
    setSelectedAnswer(null);
    setShowExplanation(false);
  }, [currentQuestion]);
  
  const handleAnswer = (answerIndex: number) => {
    if (selectedAnswer !== null) return;
    
    setSelectedAnswer(answerIndex);
    const isCorrect = answerIndex === question.correct;
    
    if (isCorrect) {
      setScore(score + 1);
      if (question.reward) {
        addWisdom(question.reward);
      }
    }
    
    setShowExplanation(true);
    
    setTimeout(() => {
      if (currentQuestion < questions.length - 1) {
        setCurrentQuestion(currentQuestion + 1);
      } else {
        completeLevel(currentLevel);
        useGameStore.getState().nextLevel();
      }
    }, 5000);
  };
  
  return (
    <div className="min-h-screen pt-28 pb-10">
      <div className="container max-w-2xl mx-auto px-5">
        <div className="glass-card animate-scale-in">
          <h2 className="text-3xl font-bold mb-5">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π</h2>
          <p className="text-lg mb-6 opacity-80">
            –í–æ–ø—Ä–æ—Å {currentQuestion + 1} –∏–∑ {questions.length}
          </p>
          
          <h3 className="text-2xl mb-8">{question.text}</h3>
          
          <div className="space-y-4">
            {question.options.map((option, index) => {
              const isSelected = selectedAnswer === index;
              const isCorrect = index === question.correct;
              
              let bgColor = 'bg-white/15';
              if (selectedAnswer !== null) {
                if (isSelected && isCorrect) {
                  bgColor = 'bg-success/30 border-success';
                } else if (isSelected && !isCorrect) {
                  bgColor = 'bg-danger/30 border-danger';
                } else if (isCorrect) {
                  bgColor = 'bg-success/20 border-success';
                }
              }
              
              return (
                <button
                  key={index}
                  className={`w-full p-5 text-left flex items-center 
                             gap-3 border-2 rounded-xl transition-all 
                             ${bgColor} ${selectedAnswer === null ? 
                             'hover:bg-white/25 hover:scale-105' : ''}`}
                  onClick={() => handleAnswer(index)}
                  disabled={selectedAnswer !== null}
                >
                  <span className="text-2xl w-10 h-10 flex items-center 
                                   justify-center bg-white/20 rounded-lg">
                    {String.fromCharCode(65 + index)}
                  </span>
                  <span className="flex-1">{option}</span>
                  {selectedAnswer !== null && isCorrect && 
                    <FaCheckCircle className="text-3xl text-success" />}
                  {selectedAnswer !== null && isSelected && !isCorrect && 
                    <FaTimesCircle className="text-3xl text-danger" />}
                </button>
              );
            })}
          </div>
          
          {showExplanation && question.explanation && (
            <div className="mt-6 p-5 bg-primary/20 border-2 
                            border-primary/40 rounded-xl animate-slide-in-bottom">
              <div className="text-xl font-bold mb-2 
                              flex items-center gap-2">
                <FaBook className="text-primary" />
                –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
              </div>
              <p className="text-lg">{question.explanation}</p>
            </div>
          )}
        </div>
      </div>
    </div>
  );
}
```

### 5. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (components/StatsBar.tsx)

```typescript
import { useGameStore } from '../store/gameStore';
import { useEffect, useState } from 'react';

export function StatsBar() {
  const { coins, wisdom, completedLevels } = useGameStore();
  const [prevCoins, setPrevCoins] = useState(coins);
  const [coinAnimation, setCoinAnimation] = useState(false);
  
  // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–Ω–µ—Ç
  useEffect(() => {
    if (coins !== prevCoins) {
      setCoinAnimation(true);
      setTimeout(() => setCoinAnimation(false), 600);
      setPrevCoins(coins);
    }
  }, [coins, prevCoins]);
  
  const totalLevels = 13;
  const progressPercent = Math.round(
    (completedLevels.length / totalLevels) * 100
  );
  
  return (
    <div className="fixed top-4 right-4 z-50 flex items-center gap-3">
      {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –º–æ–Ω–µ—Ç —Å SVG-–∏–∫–æ–Ω–∫–æ–π */}
      <div className={`bg-white/10 backdrop-blur-md px-3 py-2 
                      rounded-full border border-yellow-400/20 
                      flex items-center gap-2 shadow-lg 
                      ${coinAnimation ? 'animate-bounce' : ''}`}>
        <svg 
          className={`w-6 h-6 ${coinAnimation ? 'animate-spin' : ''}`} 
          viewBox="0 0 24 24"
        >
          <circle cx="12" cy="12" r="10" fill="url(#goldGradient)" 
                  stroke="#F59E0B" strokeWidth="2"/>
          <defs>
            <linearGradient id="goldGradient">
              <stop offset="0%" stopColor="#FCD34D"/>
              <stop offset="50%" stopColor="#F59E0B"/>
              <stop offset="100%" stopColor="#D97706"/>
            </linearGradient>
          </defs>
        </svg>
        <span className="text-yellow-100 font-bold">{coins}</span>
      </div>
      
      {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –º—É–¥—Ä–æ—Å—Ç–∏ - iOS —Å—Ç–∏–ª—å */}
      <div className="bg-white/10 backdrop-blur-md px-3 py-2 
                      rounded-full border border-purple-400/20 
                      flex items-center gap-2 shadow-lg min-w-[100px]">
        <svg className="w-5 h-5 text-purple-300" fill="currentColor">
          <path d="M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3z
                   M8 16v-1h4v1a2 2 0 11-4 0z
                   M12 14c.015-.34.208-.646.477-.859a4 4 0 
                   10-4.954 0c.27.213.462.519.476.859h4.002z"/>
        </svg>
        <div className="flex-1 flex items-center gap-1.5">
          <div className="flex-1 h-2 bg-black/30 rounded-full overflow-hidden">
            <div 
              className="h-full bg-gradient-to-r from-purple-500 
                         to-pink-400 rounded-full transition-all 
                         duration-700"
              style={{ 
                width: `${wisdom}%`,
                boxShadow: '0 0 8px rgba(168, 85, 247, 0.6)'
              }}
            />
          </div>
          <span className="text-purple-200 text-sm font-semibold">
            {wisdom}%
          </span>
        </div>
      </div>
      
      {/* –ü—Ä–æ–≥—Ä–µ—Å—Å –≥–ª–∞–≤ - iOS —Å—Ç–∏–ª—å */}
      <div className="bg-white/10 backdrop-blur-md px-3 py-2 
                      rounded-full border border-blue-400/20 
                      flex items-center gap-2 shadow-lg min-w-[100px]">
        <svg className="w-5 h-5 text-blue-300" fill="currentColor">
          <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804
                   v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385
                   A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10
                   A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12
                   a1 1 0 11-2 0V4.804z"/>
        </svg>
        <div className="flex-1 flex items-center gap-1.5">
          <div className="flex-1 h-2 bg-black/30 rounded-full overflow-hidden">
            <div 
              className="h-full bg-gradient-to-r from-blue-500 
                         to-teal-400 rounded-full transition-all 
                         duration-700"
              style={{ 
                width: `${progressPercent}%`,
                boxShadow: '0 0 8px rgba(59, 130, 246, 0.6)'
              }}
            />
          </div>
          <span className="text-blue-200 text-sm font-semibold">
            {completedLevels.length}/{totalLevels}
          </span>
        </div>
      </div>
    </div>
  );
}
```

### 6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (data/gameData.ts, —Ñ—Ä–∞–≥–º–µ–Ω—Ç)

```typescript
export interface Character {
  name: string;
  emoji: string;
  image?: string;
  emotions?: Record<string, string>;
}

export interface Choice {
  text: string;
  icon: string;
  wisdom?: number;
  coins?: number;
  next?: number;
  nextLevel?: boolean;
  nextPhase?: string;
}

export interface Dialogue {
  character: string;
  emotion?: string;
  text: string;
  redFlags?: string[];
  redFlagsData?: RedFlagDetail[];
  choices: Choice[];
  presentation?: PresentationSlide[];
  microscope?: MicroscopeData;
  pressureTimer?: number;
  calculator?: boolean;
  matchGame?: boolean;
  lieDetector?: LieDetectorData;
}

export interface QuizQuestion {
  text: string;
  options: string[];
  correct: number;
  explanation: string;
  reward: number;
}

export interface Level {
  id: number;
  title: string;
  subtitle: string;
  gradient: string;
  dialogues: Dialogue[];
  quiz: QuizQuestion[];
  miniGame?: string;
}

export interface RedFlagDetail {
  title: string;
  description: string;
  example: string;
  law?: string;
  statistics?: string;
  tips: string[];
}

// –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–≥—Ä—ã
export const characters: Record<string, Character> = {
  buratino: {
    name: "–ë—É—Ä–∞—Ç–∏–Ω–æ",
    emoji: "ü§°",
    image: "character_buratino_happy.png",
    emotions: { happy: "üòä", sad: "üò¢", worried: "üò∞" }
  },
  cricket: {
    name: "–°–≤–µ—Ä—á–æ–∫ –î–∂–∏–º–∏–Ω–∏",
    emoji: "ü¶ó",
    image: "character_cricket_wise.png",
    emotions: { wise: "ü§ì", kind: "üòä", teaching: "üë®‚Äçüè´" }
  },
  turtle: {
    name: "–ß–µ—Ä–µ–ø–∞—Ö–∞ –¢–æ—Ä—Ç–∏–ª–∞",
    emoji: "üê¢",
    image: "tortila.png",
    emotions: { wise: "ü§ì" }
  },
  // ... –¥—Ä—É–≥–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏
};

// –£—Ä–æ–≤–Ω–∏ –∏–≥—Ä—ã (—Ñ—Ä–∞–≥–º–µ–Ω—Ç)
export const levels: Level[] = [
  {
    id: 0,
    title: '–ü—è—Ç—å –∑–æ–ª–æ—Ç—ã—Ö –º–æ–Ω–µ—Ç',
    subtitle: '–ü—Ä–æ–ª–æ–≥ - –ü–µ—Ä–≤—ã–π —É—Ä–æ–∫',
    gradient: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
    dialogues: [
      {
        character: 'cricket',
        emotion: 'kind',
        text: '–ë—É—Ä–∞—Ç–∏–Ω–æ! –¢–≤–æ—è –±–∞–±—É—à–∫–∞ –æ—Å—Ç–∞–≤–∏–ª–∞ —Ç–µ–±–µ –ø—è—Ç—å –∑–æ–ª–æ—Ç—ã—Ö –º–æ–Ω–µ—Ç...',
        redFlagsData: [
          {
            title: '–ò–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ —Ç—Ä–∞—Ç—ã –±–µ–∑ –ø–ª–∞–Ω–∞',
            description: '–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –¥–µ–ª–∞—é—Ç –º–Ω–æ–≥–∏–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–µ–Ω–µ–≥...',
            example: '–ñ–µ–ª–∞–Ω–∏–µ "—Å–Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å" - —ç—Ç–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è',
            statistics: '–ü–æ –¥–∞–Ω–Ω—ã–º –ù–ê–§–ò, 63% —Ä–æ—Å—Å–∏—è–Ω –Ω–µ –ø–ª–∞–Ω–∏—Ä—É—é—Ç —Ä–∞—Å—Ö–æ–¥—ã',
            tips: [
              '–ü–µ—Ä–µ–¥ –ª—é–±–æ–π —Ç—Ä–∞—Ç–æ–π –ø–æ–¥–æ–∂–¥–∏—Ç–µ 24 —á–∞—Å–∞',
              '–°–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤',
              '–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏–π –≤ –≤–æ–∑–±—É–∂–¥–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏'
            ]
          }
        ],
        choices: [
          { text: '–î–∞! –Ø –≥–æ—Ç–æ–≤ —É—á–∏—Ç—å—Å—è!', icon: 'üòä', wisdom: 10, next: 1 },
          { text: '–ú–æ–∂–µ—Ç, —Å–Ω–∞—á–∞–ª–∞ –ø–æ—Ç—Ä–∞—á—É...', icon: 'üòê', wisdom: -5, next: 1 }
        ]
      }
    ],
    quiz: [
      {
        text: '–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Ö–æ–ª–æ–¥ –≤ –∂–∏–≤–æ—Ç–µ –ø—Ä–∏ –¥–µ–ª–æ–≤–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏?',
        options: ['–ì–æ–ª–æ–¥', '–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ—Ç –∏–Ω—Ç—É–∏—Ü–∏–∏', '–†–∞–¥–æ—Å—Ç—å'],
        correct: 1,
        explanation: '–¢–µ–ª–æ –Ω–∞—Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç —Ä–∞–Ω—å—à–µ –º–æ–∑–≥–∞!',
        reward: 15
      }
    ]
  }
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ 12 —É—Ä–æ–≤–Ω–µ–π
];
```

### 7. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –î–µ—Ç–µ–∫—Ç–æ—Ä –ª–∂–∏ (components/LieDetector.tsx, —Ñ—Ä–∞–≥–º–µ–Ω—Ç)

```typescript
import { useState } from 'react';

interface LieSegment {
  text: string;
  isLie: boolean;
  explanation?: string;
}

interface LieDetectorProps {
  character: string;
  lies: LieSegment[];
  onComplete?: (score: number) => void;
}

export function LieDetector({ character, lies, onComplete }: LieDetectorProps) {
  const [selectedSegments, setSelectedSegments] = useState<Set<number>>(
    new Set()
  );
  const [revealed, setRevealed] = useState(false);
  const [score, setScore] = useState(0);
  
  const handleCheck = () => {
    let correctCount = 0;
    
    lies.forEach((lie, index) => {
      if (lie.isLie && selectedSegments.has(index)) {
        correctCount++;
      }
    });
    
    const totalLies = lies.filter(l => l.isLie).length;
    const finalScore = Math.round((correctCount / totalLies) * 100);
    setScore(finalScore);
    setRevealed(true);
    
    if (onComplete) {
      onComplete(finalScore);
    }
  };
  
  const toggleSegment = (index: number) => {
    if (revealed) return;
    
    const newSelected = new Set(selectedSegments);
    if (newSelected.has(index)) {
      newSelected.delete(index);
    } else {
      newSelected.add(index);
    }
    setSelectedSegments(newSelected);
  };
  
  return (
    <div className="bg-white/10 backdrop-blur-lg p-6 rounded-2xl">
      <h3 className="text-2xl font-bold mb-4">
        üîç –î–µ—Ç–µ–∫—Ç–æ—Ä –ª–∂–∏: {character}
      </h3>
      
      <p className="mb-4">
        –ö–ª–∏–∫–∞–π –Ω–∞ —Ñ—Ä–∞–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –∫–∞–∂—É—Ç—Å—è –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏
      </p>
      
      <div className="mb-6 p-4 bg-black/30 rounded-xl text-lg leading-relaxed">
        {lies.map((segment, index) => (
          <span
            key={index}
            className={`cursor-pointer transition-all ${
              selectedSegments.has(index) ? 'bg-yellow-500/40' : ''
            } ${revealed && segment.isLie && selectedSegments.has(index) 
               ? 'bg-success/40' : ''
            } ${revealed && segment.isLie && !selectedSegments.has(index) 
               ? 'bg-danger/40' : ''
            }`}
            onClick={() => toggleSegment(index)}
          >
            {segment.text}{' '}
          </span>
        ))}
      </div>
      
      {!revealed && (
        <button 
          className="btn btn-primary w-full"
          onClick={handleCheck}
        >
          –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
        </button>
      )}
      
      {revealed && (
        <div className="mt-6">
          <div className="text-2xl font-bold mb-4">
            –¢–æ—á–Ω–æ—Å—Ç—å: {score}%
          </div>
          
          {score >= 80 && (
            <div className="bg-success/20 border-2 border-success 
                            rounded-xl p-6 text-center">
              <div className="text-6xl mb-3">üèÜ</div>
              <h4 className="text-3xl font-bold mb-2">
                –ë–µ–π–¥–∂ "–î–µ—Ç–µ–∫—Ç–æ—Ä –ª–∂–∏" –ø–æ–ª—É—á–µ–Ω!
              </h4>
            </div>
          )}
        </div>
      )}
    </div>
  );
}
```

### 8. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ (vite.config.ts)

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    open: true
  },
  build: {
    outDir: 'dist',
    sourcemap: false,
    rollupOptions: {
      output: {
        manualChunks: {
          'react-vendor': ['react', 'react-dom'],
          'icons': ['react-icons']
        }
      }
    }
  }
})
```

### 9. –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (index.css, —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã)

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply antialiased;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }
}

@layer components {
  .btn {
    @apply px-6 py-3 rounded-xl font-bold transition-all 
           duration-300 transform hover:scale-105 active:scale-95 
           disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .btn-primary {
    @apply bg-gradient-to-r from-secondary to-accent 
           text-white hover:shadow-2xl hover:shadow-secondary/50;
  }
  
  .glass-card {
    @apply bg-white/10 backdrop-blur-lg rounded-2xl 
           border-2 border-white/20 p-8 shadow-2xl;
  }
}

@layer utilities {
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }
  
  .animate-scale-in {
    animation: scaleIn 0.3s ease-out;
  }
  
  @keyframes scaleIn {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  
  .text-shadow-glow {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
  }
}
```

---

## –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–ë—Ä–∞—É–∑–µ—Ä:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **JavaScript:** ES6+ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞:** –æ—Ç 320px (–º–æ–±–∏–ª—å–Ω—ã–µ) –¥–æ 4K
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ (PWA-ready)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–†–∞–∑–º–µ—Ä —Å–±–æ—Ä–∫–∏:** 313 KB (108 KB gzipped)
- **–í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:** < 2 —Å–µ–∫—É–Ω–¥—ã (–Ω–∞ 3G)
- **FPS –∞–Ω–∏–º–∞—Ü–∏–π:** 60 FPS
- **Lighthouse Score:** 95+ (Performance)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- **XSS –∑–∞—â–∏—Ç–∞:** –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- **CSP:** Content Security Policy –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- **HTTPS:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è production

---

## –ê–í–¢–û–†–°–ö–ò–ï –ü–†–ê–í–ê

**–ü—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—å:** –ú–µ–¥—è–Ω–∏–∫ –û–ª—å–≥–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025 –≥–æ–¥  
**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –≠–í–ú  

–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã 
–±–µ–∑ –ø–∏—Å—å–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è –∑–∞–ø—Ä–µ—â–µ–Ω–æ.

---

**–ö–æ–Ω–µ—Ü –ª–∏—Å—Ç–∏–Ω–≥–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã**

*–õ–∏—Å—Ç–∏–Ω–≥ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≠–í–ú –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å 
—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π —Å–ª—É–∂–±—ã –ø–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (–†–æ—Å–ø–∞—Ç–µ–Ω—Ç)*

